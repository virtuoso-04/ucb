<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EcoSearch - Green Search Engine</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Montserrat:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <header>
        <nav class="navbar">
            <div class="logo">EcoSearch ðŸŒ±</div>
            <button class="menu-btn" aria-label="Toggle menu">
                <i class="fas fa-bars"></i>
            </button>
            <ul class="nav-links">
                <li><a href="#">Home</a></li>
                <li><a href="#about">About</a></li>
                <li><a href="#search">Search</a></li>
                <li><a href="#waitlist">Join Waitlist</a></li>
            </ul>
        </nav>
    </header>
    
    <section id="hero">
        <div class="hero-content">
            <h1>Search with a Purpose ðŸŒ¿</h1>
            <p>Every search you make helps plant trees and protect the planet.</p>
            <div class="search-box">
                <input type="text" id="search-input" placeholder="Search the web..." aria-label="Search input">
                <button id="search-btn" aria-label="Search">
                    <i class="fas fa-search"></i>
                </button>
            </div>
        </div>
    </section>
    
    <section id="about" class="info-section">
        <h2>About EcoSearch</h2>
        <p>EcoSearch is a sustainable search engine that donates ad revenue to environmental causes. Join us in making a difference!</p>
    </section>

    <section id="waitlist" class="waitlist-section">
        <div class="waitlist-content">
            <h2>Join Our Waitlist</h2>
            <p>Be among the first to experience the future of sustainable search.</p>
            <form name="waitlist" method="POST" data-netlify="true" class="waitlist-form">
                <input type="hidden" name="form-name" value="waitlist" />
                <input type="hidden" name="subject" value="New Waitlist Submission" />
                <input type="hidden" name="replyto" value="%email%" />
                <div class="form-group">
                    <input type="text" name="name" placeholder="Your Name" required>
                </div>
                <div class="form-group">
                    <input type="email" name="email" placeholder="Your Email" required>
                </div>
                <div class="form-group">
                    <textarea name="message" placeholder="Tell us why you're interested in EcoSearch" required></textarea>
                </div>
                <button type="submit" class="submit-btn">Join Waitlist</button>
            </form>
        </div>
    </section>
    
    <footer>
        <p>&copy; 2025 EcoSearch. Helping the planet, one search at a time. ðŸŒŽ</p>
    </footer>

    <button class="theme-toggle" aria-label="Toggle theme">
        <span class="theme-icon">ðŸŒ±</span>
    </button>

    <script>
        // Mobile menu functionality
        const menuBtn = document.querySelector('.menu-btn');
        const navLinks = document.querySelector('.nav-links');
        
        menuBtn.addEventListener('click', () => {
            navLinks.classList.toggle('active');
            menuBtn.querySelector('i').classList.toggle('fa-bars');
            menuBtn.querySelector('i').classList.toggle('fa-times');
        });

        // Close menu when clicking outside
        document.addEventListener('click', (e) => {
            if (!navLinks.contains(e.target) && !menuBtn.contains(e.target)) {
                navLinks.classList.remove('active');
                menuBtn.querySelector('i').classList.add('fa-bars');
                menuBtn.querySelector('i').classList.remove('fa-times');
            }
        });

        // Search functionality
        document.getElementById("search-btn").addEventListener("click", function() {
            const query = document.getElementById("search-input").value;
            if (query) {
                window.location.href = `https://www.google.com/search?q=${query}`;
            }
        });

        // Enter key for search
        document.getElementById("search-input").addEventListener("keypress", function(e) {
            if (e.key === "Enter") {
                const query = this.value;
                if (query) {
                    window.location.href = `https://www.google.com/search?q=${query}`;
                }
            }
        });

        // Navbar scroll effect
        window.addEventListener('scroll', function() {
            const navbar = document.querySelector('.navbar');
            if (window.scrollY > 50) {
                navbar.classList.add('scrolled');
            } else {
                navbar.classList.remove('scrolled');
            }
        });

        // Intersection Observer for fade-in animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, observerOptions);

        // Observe all sections including waitlist
        document.querySelectorAll('.info-section, .waitlist-section').forEach(section => {
            observer.observe(section);
        });

        // Smooth scroll for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                    // Close mobile menu after clicking
                    navLinks.classList.remove('active');
                    menuBtn.querySelector('i').classList.add('fa-bars');
                    menuBtn.querySelector('i').classList.remove('fa-times');
                }
            });
        });

        // Theme toggle functionality
        const themeToggle = document.querySelector('.theme-toggle');
        const themeIcon = document.querySelector('.theme-icon');
        
        // Check for saved theme preference
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme) {
            document.documentElement.setAttribute('data-theme', savedTheme);
            updateThemeIcon(savedTheme);
        }

        themeToggle.addEventListener('click', () => {
            const currentTheme = document.documentElement.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            
            document.documentElement.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            updateThemeIcon(newTheme);
        });

        function updateThemeIcon(theme) {
            themeIcon.textContent = theme === 'dark' ? 'ðŸŒ±' : 'ðŸŒ±';
        }

        // Form submission handling
        const waitlistForm = document.querySelector('.waitlist-form');
        if (waitlistForm) {
            waitlistForm.addEventListener('submit', async function(e) {
                e.preventDefault();
                const submitBtn = this.querySelector('.submit-btn');
                const originalText = submitBtn.textContent;
                
                // Show loading state
                submitBtn.textContent = 'Submitting...';
                submitBtn.disabled = true;

                try {
                    const formData = new FormData(this);
                    const response = await fetch('/', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/x-www-form-urlencoded',
                        },
                        body: new URLSearchParams(formData).toString()
                    });

                    if (response.ok) {
                        // Show success state
                        submitBtn.textContent = 'Thank You!';
                        this.reset();
                        
                        // Reset button after 3 seconds
                        setTimeout(() => {
                            submitBtn.textContent = originalText;
                            submitBtn.disabled = false;
                        }, 3000);
                    } else {
                        throw new Error('Form submission failed');
                    }
                } catch (error) {
                    // Show error state
                    submitBtn.textContent = 'Error! Try Again';
                    console.error('Form submission error:', error);
                    
                    // Reset button after 3 seconds
                    setTimeout(() => {
                        submitBtn.textContent = originalText;
                        submitBtn.disabled = false;
                    }, 3000);
                }
            });
        }
    </script>
</body>
</html>